#!/usr/bin/env bash

# vim-plug
sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'

# conf
mkdir -p ~/.config/nvim
cp -r ./nvim/init.vim ./nvim/plugin ./nvim/lua ~/.config/nvim/

# Language servers
yarn global add bash-language-server
yarn global add vscode-css-languageserver-bin
go get golang.org/x/tools/gopls@latest
yarn global add vscode-html-languageserver-bin
yarn global add vscode-json-languageserver
pip install python-language-server
gem install solargraph
yarn global add sql-language-server
yarn global add typescript typescript-language-server
yarn global add vim-language-server
yarn global add vls
yarn global add yaml-language-server

# Lua LSP
brew install ninja
cd ~/dev || exit 1
git clone https://github.com/sumneko/lua-language-server
cd lua-language-server || exit 1
git submodule update --init --recursive
cd 3rd/luamake || exit 1
ninja -f ninja/macos.ninja
cd ../.. || exit 1
./3rd/luamake/luamake rebuild
